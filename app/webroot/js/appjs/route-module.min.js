(function(d,a,c){var b=window.App||(window.App={});b.Router=d.Router.extend({page:1,maxPage:1,institution:null,days:null,courses:null,url:"",routes:{"c/:hash":"urlChanged"},nextPage:function(){if(+this.page!==+this.maxPage){this.page++;this.handleUrl()}},previousPage:function(){if(+this.page!==1){this.page--;this.handleUrl()}},updateProps:function(e){if(typeof e!=="undefined"){this.page=e.page;this.institution=e.institution;this.days=e.days;this.courses=e.courses}},handleUrl:function(e){var g,f=[];this.updateProps(e);a.each(this.courses,function(h){f.push(h.subject+"-"+h.number+"-"+h.crn)});g=[this.institution.id,this.page,this.days.join("-"),f.join("_")].join("_");this.navigate("c/"+g,{trigger:true})},urlChanged:function(e){this.trigger("urlChanged",e);this.url=e;window.woopraTracker.trackPageview({url:"/c/"+e,title:document.title});window._gaq.push(["_trackPageview","/c/"+e])}})}(Backbone,_));